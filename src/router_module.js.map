{"version":3,"sources":["../../../../modules/@angular/router/src/router_module.ts"],"names":[],"mappings":"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","file":"router_module.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {APP_BASE_HREF, HashLocationStrategy, LOCATION_INITIALIZED, Location, LocationStrategy, PathLocationStrategy, PlatformLocation} from '@angular/common/index';\nimport {ANALYZE_FOR_ENTRY_COMPONENTS, APP_BOOTSTRAP_LISTENER, APP_INITIALIZER, ApplicationRef, Compiler, ComponentRef, Inject, Injectable, InjectionToken, Injector, ModuleWithProviders, NgModule, NgModuleFactoryLoader, NgProbeToken, Optional, Provider, SkipSelf, SystemJsNgModuleLoader} from '@angular/core/index';\nimport {Subject} from 'rxjs/Subject';\nimport {of } from 'rxjs/observable/of';\n\nimport {Route, Routes} from './config';\nimport {RouterLink, RouterLinkWithHref} from './directives/router_link';\nimport {RouterLinkActive} from './directives/router_link_active';\nimport {RouterOutlet} from './directives/router_outlet';\nimport {getDOM} from './private_import_platform-browser';\nimport {RouteReuseStrategy} from './route_reuse_strategy';\nimport {ErrorHandler, Router} from './router';\nimport {ROUTES} from './router_config_loader';\nimport {RouterOutletMap} from './router_outlet_map';\nimport {NoPreloading, PreloadAllModules, PreloadingStrategy, RouterPreloader} from './router_preloader';\nimport {ActivatedRoute, RouterStateSnapshot} from './router_state';\nimport {UrlHandlingStrategy} from './url_handling_strategy';\nimport {DefaultUrlSerializer, UrlSerializer} from './url_tree';\nimport {flatten} from './utils/collection';\n\n\n\n/**\n * @whatItDoes Contains a list of directives\n * @stable\n */\nconst /** @type {?} */ ROUTER_DIRECTIVES = [RouterOutlet, RouterLink, RouterLinkWithHref, RouterLinkActive];\n\n/**\n * @whatItDoes Is used in DI to configure the router.\n * @stable\n */\nexport const /** @type {?} */ ROUTER_CONFIGURATION = new InjectionToken<ExtraOptions>('ROUTER_CONFIGURATION');\n\n/**\n * @docsNotRequired\n */\nexport const /** @type {?} */ ROUTER_FORROOT_GUARD = new InjectionToken<void>('ROUTER_FORROOT_GUARD');\n\nexport const /** @type {?} */ ROUTER_PROVIDERS: Provider[] = [\n  Location,\n  {provide: UrlSerializer, useClass: DefaultUrlSerializer},\n  {\n    provide: Router,\n    useFactory: setupRouter,\n    deps: [\n      ApplicationRef, UrlSerializer, RouterOutletMap, Location, Injector, NgModuleFactoryLoader,\n      Compiler, ROUTES, ROUTER_CONFIGURATION, [UrlHandlingStrategy, new Optional()],\n      [RouteReuseStrategy, new Optional()]\n    ]\n  },\n  RouterOutletMap,\n  {provide: ActivatedRoute, useFactory: rootRoute, deps: [Router]},\n  {provide: NgModuleFactoryLoader, useClass: SystemJsNgModuleLoader},\n  RouterPreloader,\n  NoPreloading,\n  PreloadAllModules,\n  {provide: ROUTER_CONFIGURATION, useValue: {enableTracing: false}},\n];\n/**\n * @return {?}\n */\nexport function routerNgProbeToken() {\n  return new NgProbeToken('Router', Router);\n}\n/**\n * \\@whatItDoes Adds router directives and providers.\n * \n * \\@howToUse \n * \n * RouterModule can be imported multiple times: once per lazily-loaded bundle.\n * Since the router deals with a global shared resource--location, we cannot have\n * more than one router service active.\n * \n * That is why there are two ways to create the module: `RouterModule.forRoot` and\n * `RouterModule.forChild`.\n * \n * * `forRoot` creates a module that contains all the directives, the given routes, and the router\n *   service itself.\n * * `forChild` creates a module that contains all the directives and the given routes, but does not\n *   include the router service.\n * \n * When registered at the root, the module should be used as follows\n * \n * ```\n * \\@NgModule({ \n *   imports: [RouterModule.forRoot(ROUTES)]\n * })\n * class MyNgModule {}\n * ```\n * \n * For submodules and lazy loaded submodules the module should be used as follows:\n * \n * ```\n * \\@NgModule({ \n *   imports: [RouterModule.forChild(ROUTES)]\n * })\n * class MyNgModule {}\n * ```\n * \n * \\@description \n * \n * Managing state transitions is one of the hardest parts of building applications. This is\n * especially true on the web, where you also need to ensure that the state is reflected in the URL.\n * In addition, we often want to split applications into multiple bundles and load them on demand.\n * Doing this transparently is not trivial.\n * \n * The Angular router solves these problems. Using the router, you can declaratively specify\n * application states, manage state transitions while taking care of the URL, and load bundles on\n * demand.\n * \n * [Read this developer guide](https://angular.io/docs/ts/latest/guide/router.html) to get an\n * overview of how the router should be used.\n * \n * \\@stable\n */\nexport class RouterModule {\n/**\n * @param {?} guard\n */\nconstructor(  guard: any) {}\n/**\n * Creates a module with all the router providers and directives. It also optionally sets up an\n * application listener to perform an initial navigation.\n * \n * Options:\n * * `enableTracing` makes the router log all its internal events to the console.\n * * `useHash` enables the location strategy that uses the URL fragment instead of the history\n * API.\n * * `initialNavigation` disables the initial navigation.\n * * `errorHandler` provides a custom error handler.\n * @param {?} routes\n * @param {?=} config\n * @return {?}\n */\nstatic forRoot(routes: Routes, config?: ExtraOptions): ModuleWithProviders {\n    return {\n      ngModule: RouterModule,\n      providers: [\n        ROUTER_PROVIDERS,\n        provideRoutes(routes),\n        {\n          provide: ROUTER_FORROOT_GUARD,\n          useFactory: provideForRootGuard,\n          deps: [[Router, new Optional(), new SkipSelf()]]\n        },\n        {provide: ROUTER_CONFIGURATION, useValue: config ? config : {}},\n        {\n          provide: LocationStrategy,\n          useFactory: provideLocationStrategy,\n          deps: [\n            PlatformLocation, [new Inject(APP_BASE_HREF), new Optional()], ROUTER_CONFIGURATION\n          ]\n        },\n        {\n          provide: PreloadingStrategy,\n          useExisting: config && config.preloadingStrategy ? config.preloadingStrategy :\n                                                             NoPreloading\n        },\n        {provide: NgProbeToken, multi: true, useFactory: routerNgProbeToken},\n        provideRouterInitializer(),\n      ],\n    };\n  }\n/**\n * Creates a module with all the router directives and a provider registering routes.\n * @param {?} routes\n * @return {?}\n */\nstatic forChild(routes: Routes): ModuleWithProviders {\n    return {ngModule: RouterModule, providers: [provideRoutes(routes)]};\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{declarations: ROUTER_DIRECTIVES, exports: ROUTER_DIRECTIVES}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [ROUTER_FORROOT_GUARD, ] }, ]},\n];\n}\n\nfunction RouterModule_tsickle_Closure_declarations() {\n/** @type {?} */\nRouterModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nRouterModule.ctorParameters;\n}\n\n/**\n * @param {?} platformLocationStrategy\n * @param {?} baseHref\n * @param {?=} options\n * @return {?}\n */\nexport function provideLocationStrategy(\n    platformLocationStrategy: PlatformLocation, baseHref: string, options: ExtraOptions = {}) {\n  return options.useHash ? new HashLocationStrategy(platformLocationStrategy, baseHref) :\n                           new PathLocationStrategy(platformLocationStrategy, baseHref);\n}\n/**\n * @param {?} router\n * @return {?}\n */\nexport function provideForRootGuard(router: Router): any {\n  if (router) {\n    throw new Error(\n        `RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.`);\n  }\n  return 'guarded';\n}\n/**\n * \\@whatItDoes Registers routes.\n * \n * \\@howToUse \n * \n * ```\n * \\@NgModule({ \n *   imports: [RouterModule.forChild(ROUTES)],\n *   providers: [provideRoutes(EXTRA_ROUTES)]\n * })\n * class MyNgModule {}\n * ```\n * \n * \\@stable\n * @param {?} routes\n * @return {?}\n */\nexport function provideRoutes(routes: Routes): any {\n  return [\n    {provide: ANALYZE_FOR_ENTRY_COMPONENTS, multi: true, useValue: routes},\n    {provide: ROUTES, multi: true, useValue: routes},\n  ];\n}\n\n\n/**\n * @whatItDoes Represents options to configure the router.\n *\n * @stable\n */\nexport interface ExtraOptions {\n  /**\n   * Makes the router log all its internal events to the console.\n   */\n  enableTracing?: boolean;\n\n  /**\n   * Enables the location strategy that uses the URL fragment instead of the history API.\n   */\n  useHash?: boolean;\n\n  /**\n   * Disables the initial navigation.\n   */\n  initialNavigation?: boolean;\n\n  /**\n   * A custom error handler.\n   */\n  errorHandler?: ErrorHandler;\n\n  /**\n   * Configures a preloading strategy. See {@link PreloadAllModules}.\n   */\n  preloadingStrategy?: any;\n}\n/**\n * @param {?} ref\n * @param {?} urlSerializer\n * @param {?} outletMap\n * @param {?} location\n * @param {?} injector\n * @param {?} loader\n * @param {?} compiler\n * @param {?} config\n * @param {?=} opts\n * @param {?=} urlHandlingStrategy\n * @param {?=} routeReuseStrategy\n * @return {?}\n */\nexport function setupRouter(\n    ref: ApplicationRef, urlSerializer: UrlSerializer, outletMap: RouterOutletMap,\n    location: Location, injector: Injector, loader: NgModuleFactoryLoader, compiler: Compiler,\n    config: Route[][], opts: ExtraOptions = {}, urlHandlingStrategy?: UrlHandlingStrategy,\n    routeReuseStrategy?: RouteReuseStrategy) {\n  const /** @type {?} */ router = new Router(\n      null, urlSerializer, outletMap, location, injector, loader, compiler, flatten(config));\n\n  if (urlHandlingStrategy) {\n    router.urlHandlingStrategy = urlHandlingStrategy;\n  }\n\n  if (routeReuseStrategy) {\n    router.routeReuseStrategy = routeReuseStrategy;\n  }\n\n  if (opts.errorHandler) {\n    router.errorHandler = opts.errorHandler;\n  }\n\n  if (opts.enableTracing) {\n    const /** @type {?} */ dom = getDOM();\n    router.events.subscribe(e => {\n      dom.logGroup(`Router Event: ${( /** @type {?} */((<any>e.constructor))).name}`);\n      dom.log(e.toString());\n      dom.log(e);\n      dom.logGroupEnd();\n    });\n  }\n\n  return router;\n}\n/**\n * @param {?} router\n * @return {?}\n */\nexport function rootRoute(router: Router): ActivatedRoute {\n  return router.routerState.root;\n}\n/**\n * To initialize the router properly we need to do in two steps:\n * \n * We need to start the navigation in a APP_INITIALIZER to block the bootstrap if\n * a resolver or a guards executes asynchronously. Second, we need to actually run\n * activation in a BOOTSTRAP_LISTENER. We utilize the afterPreactivation\n * hook provided by the router to do that.\n * \n * The router navigation starts, reaches the point when preactivation is done, and then\n * pauses. It waits for the hook to be resolved. We then resolve it only in a bootstrap listener.\n */\nexport class RouterInitializer {\nprivate initNavigation: boolean;\nprivate resultOfPreactivationDone = new Subject<void>();\n/**\n * @param {?} injector\n */\nconstructor(private injector: Injector) {}\n/**\n * @return {?}\n */\nappInitializer(): Promise<any> {\n    const /** @type {?} */ p: Promise<any> = this.injector.get(LOCATION_INITIALIZED, Promise.resolve(null));\n    return p.then(() => {\n      let /** @type {?} */ resolve: Function = null;\n      const /** @type {?} */ res = new Promise(r => resolve = r);\n      const /** @type {?} */ router = this.injector.get(Router);\n      const /** @type {?} */ opts = this.injector.get(ROUTER_CONFIGURATION);\n\n      if (opts.initialNavigation === false) {\n        router.setUpLocationChangeListener();\n      } else {\n        router.hooks.afterPreactivation = () => {\n          // only the initial navigation should be delayed\n          if (!this.initNavigation) {\n            this.initNavigation = true;\n            resolve(true);\n            return this.resultOfPreactivationDone;\n\n            // subsequent navigations should not be delayed\n          } else {\n            return of (null);\n          }\n        };\n        router.initialNavigation();\n      }\n\n      return res;\n    });\n  }\n/**\n * @param {?} bootstrappedComponentRef\n * @return {?}\n */\nbootstrapListener(bootstrappedComponentRef: ComponentRef<any>): void {\n    const /** @type {?} */ ref = this.injector.get(ApplicationRef);\n    if (bootstrappedComponentRef !== ref.components[0]) {\n      return;\n    }\n\n    const /** @type {?} */ preloader = this.injector.get(RouterPreloader);\n    preloader.setUpPreloading();\n\n    const /** @type {?} */ router = this.injector.get(Router);\n    router.resetRootComponentType(ref.componentTypes[0]);\n\n    this.resultOfPreactivationDone.next(null);\n    this.resultOfPreactivationDone.complete();\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Injector, },\n];\n}\n\nfunction RouterInitializer_tsickle_Closure_declarations() {\n/** @type {?} */\nRouterInitializer.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nRouterInitializer.ctorParameters;\n/** @type {?} */\nRouterInitializer.prototype.initNavigation;\n/** @type {?} */\nRouterInitializer.prototype.resultOfPreactivationDone;\n/** @type {?} */\nRouterInitializer.prototype.injector;\n}\n\n/**\n * @param {?} r\n * @return {?}\n */\nexport function getAppInitializer(r: RouterInitializer) {\n  return r.appInitializer.bind(r);\n}\n/**\n * @param {?} r\n * @return {?}\n */\nexport function getBootstrapListener(r: RouterInitializer) {\n  return r.bootstrapListener.bind(r);\n}\n\n/**\n * A token for the router initializer that will be called after the app is bootstrapped.\n *\n * @experimental\n */\nexport const /** @type {?} */ ROUTER_INITIALIZER =\n    new InjectionToken<(compRef: ComponentRef<any>) => void>('Router Initializer');\n/**\n * @return {?}\n */\nexport function provideRouterInitializer() {\n  return [\n    RouterInitializer,\n    {\n      provide: APP_INITIALIZER,\n      multi: true,\n      useFactory: getAppInitializer,\n      deps: [RouterInitializer]\n    },\n    {provide: ROUTER_INITIALIZER, useFactory: getBootstrapListener, deps: [RouterInitializer]},\n    {provide: APP_BOOTSTRAP_LISTENER, multi: true, useExisting: ROUTER_INITIALIZER},\n  ];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}