{"version":3,"sources":["packages/router/router-upgrade.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","router","upgrade","core","static","this","_static","locationSyncBootstrapListener","ngUpgrade","setUpLocationSync","$injector","Error","router$$1","injector","get","Router","url","document","createElement","$on","_","next","__","href","navigateByUrl","pathname","search","hash","RouterUpgradeInitializer","provide","APP_BOOTSTRAP_LISTENER","multi","useFactory","deps","UpgradeModule","Object","defineProperty","value"],"mappings":";;;;;CAMC,SAAUA,EAAQC,GACC,iBAAZC,SAA0C,oBAAXC,OAAyBF,EAAQC,QAASE,QAAQ,iBAAkBA,QAAQ,mBAAoBA,QAAQ,4BAC5H,mBAAXC,QAAyBA,OAAOC,IAAMD,OAAO,2BAA4B,UAAW,gBAAiB,kBAAmB,2BAA4BJ,GAC1JA,GAASD,EAAOO,GAAKP,EAAOO,OAAUP,EAAOO,GAAGC,OAASR,EAAOO,GAAGC,WAAcR,EAAOO,GAAGC,OAAOC,YAAcT,EAAOO,GAAGG,KAAKV,EAAOO,GAAGC,OAAOR,EAAOO,GAAGE,QAAQE,QAHpK,CAIEC,KAAM,SAAWV,EAAQQ,EAAKF,EAAOK,GAAW;;;;;;;GAyClD,SAASC,EAA8BC,GACnC,OAAO,WAAcC,EAAkBD,IAY3C,SAASC,EAAkBD,GACvB,IAAKA,EAAUE,UACX,MAAM,IAAIC,MAAM,iNAEpB,IAAIC,EAAYJ,EAAUK,SAASC,IAAIb,EAAOc,QAC1CC,EAAMC,SAASC,cAAc,KACjCV,EAAUE,UAAUI,IAAI,cACnBK,IAAI,uBAAwB,SAAUC,EAAGC,EAAMC,GAChDN,EAAIO,KAAOF,EACXT,EAAUY,cAAcR,EAAIS,SAAWT,EAAIU,OAASV,EAAIW;;;;;;;;;;;;;;GAmChEhC,EAAQiC,0BAjEJC,QAAS1B,EAAK2B,uBACdC,OAAO,EACPC,WAAYzB,EACZ0B,MAAO3B,EAAQ4B,gBA+DnBvC,EAAQY,8BAAgCA,EACxCZ,EAAQc,kBAAoBA,EAE5B0B,OAAOC,eAAezC,EAAS,cAAgB0C,OAAO","sourcesContent":["/**\n * @license Angular v6.0.7\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/router'), require('@angular/upgrade/static')) :\n\ttypeof define === 'function' && define.amd ? define('@angular/router/upgrade', ['exports', '@angular/core', '@angular/router', '@angular/upgrade/static'], factory) :\n\t(factory((global.ng = global.ng || {}, global.ng.router = global.ng.router || {}, global.ng.router.upgrade = {}),global.ng.core,global.ng.router,global.ng.upgrade.static));\n}(this, (function (exports,core,router,_static) { 'use strict';\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @description\n *\n * Creates an initializer that in addition to setting up the Angular\n * router sets up the ngRoute integration.\n *\n * ```\n * @NgModule({\n *  imports: [\n *   RouterModule.forRoot(SOME_ROUTES),\n *   UpgradeModule\n * ],\n * providers: [\n *   RouterUpgradeInitializer\n * ]\n * })\n * export class AppModule {\n *   ngDoBootstrap() {}\n * }\n * ```\n *\n * @experimental\n */\nvar RouterUpgradeInitializer = {\n    provide: core.APP_BOOTSTRAP_LISTENER,\n    multi: true,\n    useFactory: locationSyncBootstrapListener,\n    deps: [_static.UpgradeModule]\n};\n/**\n * @internal\n */\nfunction locationSyncBootstrapListener(ngUpgrade) {\n    return function () { setUpLocationSync(ngUpgrade); };\n}\n/**\n * @description\n *\n * Sets up a location synchronization.\n *\n * History.pushState does not fire onPopState, so the Angular location\n * doesn't detect it. The workaround is to attach a location change listener\n *\n * @experimental\n */\nfunction setUpLocationSync(ngUpgrade) {\n    if (!ngUpgrade.$injector) {\n        throw new Error(\"\\n        RouterUpgradeInitializer can be used only after UpgradeModule.bootstrap has been called.\\n        Remove RouterUpgradeInitializer and call setUpLocationSync after UpgradeModule.bootstrap.\\n      \");\n    }\n    var router$$1 = ngUpgrade.injector.get(router.Router);\n    var url = document.createElement('a');\n    ngUpgrade.$injector.get('$rootScope')\n        .$on('$locationChangeStart', function (_, next, __) {\n        url.href = next;\n        router$$1.navigateByUrl(url.pathname + url.search + url.hash);\n    });\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of this package.\n */\n\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// This file is not used to build this module. It is only used during editing\n// by the TypeScript language service and during build for verification. `ngc`\n// replaces this file with production index.ts when it rewrites private symbol\n// names.\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexports.RouterUpgradeInitializer = RouterUpgradeInitializer;\nexports.locationSyncBootstrapListener = locationSyncBootstrapListener;\nexports.setUpLocationSync = setUpLocationSync;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=router-upgrade.umd.js.map\n"]}